<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Конвертация статичного сайта в Jekyll | WebReference</title>
<meta charset="utf-8" />
<link rel="up" href="../building-jekyll-site.html" />
<link rel="next" href="jekyll-cms-with-cloudcannon.html" />
<link rel="prev" href="../building-jekyll-site.html" />
<meta name="description" content="Установка Jekyll Jekyll является инструментом командной строки, которая должна быть установлена перед использованием. OS X $ gem install jekyll -v 2.4.0 Ubuntu $ apt-get install ruby ruby-dev make gcc nodejs $ gem install jekyll -v 2.4.0 Windows Windows официально не поддерживается, но есть обходной путь." />
<link type="text/css" rel="stylesheet" href="../../assets/css/css_GmPV_e3YNAzxsGyZNJb8l3jyzuLiXRRwUYoy5enMRkM.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../assets/css/css_TRgZiIWJG1Kscmnc2ThzsQLBI4y7E3_GdynGIqED184.css" media="screen" />
</head>
<body>
<div class="off-canvas-wrap" data-offcanvas><div class="inner-wrap"><header><div class="row"><div class="small-12 large-4 columns logo"><a href="../../index.html">WebReference<span>.</span>ru</a></div><nav class="small-10 large-7 columns topmenu"><div class="region region-menu"><div id="system-main-menu" class="block"><div class="block_content"><ul class="menu"><li class="first leaf"><a href="../../ref.html" title="">Справочники</a></li><li class="leaf"><a href="../../layout.html" title="">Вёрстка</a></li><li class="leaf"><a href="../../dev.html" title="">Веб-технологии</a></li><li class="leaf"><a href="../../mobile.html" title="">Мобильные приложения</a></li><li class="last leaf"><a href="../../course.html">Курсы</a></li></ul></div></div></div></nav><div class="small-2 large-1 columns search"><div id="search-button" tabindex="1"></div><form action="https://webref.ru/search/" id="cse-search-box"><input type="search" placeholder="Поиск по сайту" name="s" autocomplete="off" id="cse-search-input"><input type="hidden" name="cx" value="partner-pub-0708135098984815:9970767379"><input type="hidden" name="cof" value="FORID:10"><input type="hidden" name="ie" value="UTF-8"></form></div></div></header><main><div class="title"><div class="row"><div class="small-12 columns"><h1>Конвертация статичного сайта в Jekyll</h1></div></div></div><div class="breadcrumb"><div class="row"><div class="small-12 columns"><div class="region region-crumbs"><div id="easy_breadcrumb-easy_breadcrumb" class="block"><div class="block_content"><div itemscope class="easy-breadcrumb" itemtype="http://data-vocabulary.org/Breadcrumb"> <span itemprop="title"><a href="../../index.html" class="easy-breadcrumb_segment easy-breadcrumb_segment-front">Главная</a></span> <span class="easy-breadcrumb_segment-separator">/</span> <span itemprop="title"><a href="../../dev.html" class="easy-breadcrumb_segment easy-breadcrumb_segment-1">Веб-технологии</a></span> <span class="easy-breadcrumb_segment-separator">/</span> <span itemprop="title"><a href="../building-jekyll-site.html" class="easy-breadcrumb_segment easy-breadcrumb_segment-2">Создание сайта на Jekyll</a></span> <span class="easy-breadcrumb_segment-separator">/</span> <span class="easy-breadcrumb_segment easy-breadcrumb_segment-title" itemprop="title">Конвертация статичного сайта в Jekyll</span></div></div></div></div></div></div></div><div class="row"><div class="medium-12 large-9 columns main-section">
<script id="dsq-count-scr" src="https://webref.disqus.com/count.js" async></script>
<p class="num_comments"><a href="converting-static-site-to-jekyll.html#disqus_thread">Комментарии</a></p><div class="region region-content"><div id="system-main" class="block"><h2> Установка Jekyll</h2><p>Jekyll является инструментом командной строки, которая должна быть установлена перед использованием.</p><p><strong>OS X</strong></p>
<pre><code>$ gem install jekyll -v 2.4.0</code></pre>
<p><strong>Ubuntu</strong></p>
<pre><code>$ apt-get install ruby ruby-dev make gcc nodejs
$ gem install jekyll -v 2.4.0</code></pre>
<p><strong>Windows</strong></p><p>Windows официально не поддерживается, но <a href="http://jekyllrb.com/docs/windows/">есть обходной путь</a>.</p><h2> Настройка</h2><p> <a href="https://github.com/CloudCannon/coffee-cafe/archive/master.zip">Скачайте исходные файлы для Coffee Cafe</a>, если вы хотите следовать вместе с нами.</p><p>Запустите Jekyll для создания и обслуживания сайта. Перейдите в рабочую папку в терминале и выполните команду:</p>
<pre><code>$ cd path/to/site/files
$ jekyll serve</code></pre>
<p><span class="var">jekyll serve</span> строит статичный сайт внутри <span class="var">_site</span> в той же папке и запускает локальный веб-сервер. Перейдите в вашем браузере по адресу http://localhost:4000 для просмотра Coffee Cafe.</p><h2>Макеты в Jekyll</h2><p>Повторение содержимого является самой большой нервотрёпкой для чисто статичного сайта. Макеты Jekyll решают эту проблему. Макет представляет собой HTML-файл в папке <span class="var">_layouts</span> с шаблоном для содержимого.</p><h3>Создание макета</h3><p>На каждой странице Coffee Cafe меняются только элементы <span class="tag">&lt;div.content&gt;</span> и <span class="tag">&lt;title&gt;</span>. Самым простым способом создания макета является копирование существующего файла HTML. Скопируйте <span class="var">index.html</span> в <span class="var">_layouts/default.html</span> и замените содержимое <span class="var">div.content</span> на <span class="var">{{&nbsp;content&nbsp;}}</span>.</p><p class="exampleTitle">HTML</p>
<pre><code data-language="html">&lt;/header&gt;

&lt;div class=&quot;content&quot;&gt;
  {{ content }}
&lt;/div&gt;
  
&lt;footer&gt;</code></pre>
<p><span class="var">{{ content }}</span> представляет собой тег <a href="https://github.com/Shopify/liquid/wiki/Liquid-for-Designers">Liquid</a>, который является частью языка шаблонов Jekyll.</p><h3>Настройка макета</h3><p>Чтобы задать <span class="var">index.html</span> в качестве макета по умолчанию мы используем вступление&nbsp;— фрагмент <a href="https://ru.wikipedia.org/wiki/YAML">YAML</a> вверху файла между строк из трёх дефисов.</p><p>Чтобы установить макет index.html:</p><ol><li>обновите файл, чтобы он включал только содержимое <span class="var">div.content</span>;</li><li> добавьте <span class="var">layout: default</span> во вступление.</li></ol><p class="exampleTitle">index.html (с YAML)</p>
<pre><code data-language="html">---
layout: default
---
&lt;section class=&quot;hero&quot;&gt;...&lt;/section&gt;
&lt;div class=&quot;container&quot;&gt;...&lt;/div&gt;
&lt;section class=&quot;cta&quot;&gt;...&lt;/section&gt;</code></pre>
<p>Главная страница генерируется с макетом по умолчанию и показывает содержимое файла вместо <span class="var">{{&nbsp;content&nbsp;}}</span>. Сайт должен выглядеть так же, как и раньше. Повторите тот же процесс для всех остальных HTML-файлов.</p><h3>Использование переменных страниц</h3><p>Чтобы настроить <span class="tag">&lt;title&gt;</span> для каждой страницы, мы задаём переменную во вступлении на каждой странице и используем эту переменную в макете. Добавьте переменную <span class="var">title</span> в <span class="var">index.html</span>:</p><p class="exampleTitle">index.html</p>
<pre><code data-language="html">---
layout: default
title: Home
---
...</code></pre>
<p>Выведем переменную в <span class="var">_layout/default.html</span> через Liquid:</p><p class="exampleTitle">HTML</p>
<pre><code data-language="html">...
&lt;title&gt;{{ page.title }}&lt;/title&gt;
...</code></pre>
<p>Тег заголовка теперь меняется на каждой странице. Это уменьшает ненужное дублирование на сайте, потому что вы делаете будущие изменения в одном месте.</p><h2>Ведение блога</h2><p>Добавление статей блога почти такой же процесс, что и добавление страниц. Статьи представляют собой Markdown или HTML-файлы в папке <span class="var">_posts</span> в таком формате: год-месяц-день-заголовок.расширение.</p><p><img src="../../assets/images/jekyll/blog-post-file-format.png" alt="Формат файла для статей блога" class="fig"></p><p class="figsign">Формат файла для статей блога</p><h3>Написание статей</h3><p>Содержимое статей блога такое же, что у страницы — вступление и содержимое файла. Создайте файл с именем <span class="var">_posts/2016-01-01-what-is-coffee.md</span>, затем добавьте вступление перед содержимым статьи.</p><p class="exampleTitle">post.md</p>
<pre><code>---
layout: post
title: What is Coffee?
category: Information
---
Coffee is a brewed drink prepared from roasted coffee beans, which are the seeds of berries from the Coffea plant. The Coffea plant is native to subtropical Africa and some islands in southern Asia. The plant was exported from Africa to countries around the world and coffee plants are now cultivated in over 70 countries, primarily in the equatorial regions of the Americas, Southeast Asia, India, and Africa. The two most commonly grown are the highly regarded arabica, and the less sophisticated but stronger and more hardy robusta. Once ripe, coffee beans are picked, processed, and dried. Green (unroasted) coffee beans are one of the most traded agricultural commodities in the world. Once traded, the coffee beans are roasted to varying degrees, depending on the desired flavor. Roasted beans are ground and brewed to produce coffee as a beverage.

Source / Read more [Wikipedia](https://en.wikipedia.org/wiki/Coffee).</code></pre>
<p>Такое разделение разметки и данных является основой философии Jekyll. Это позволяет повторно использовать содержимое в любом месте сайта.</p><h3>Создание макета статьи</h3><p>В приведённом выше примере используется новый макет с названием <span class="var">post</span>. Этот макет расширит макет по умолчанию и добавит специфичные элементы статьи, такие как дата публикации и категории. Чтобы получить такое в Jekyll, указываем макет внутри макета. Скопируйте следующий код в <span class="var">_layouts/post.html</span>:</p><p class="exampleTitle">post.html</p>
<pre><code data-language="html">---
layout: default
---
&lt;div class=&quot;container&quot;&gt;
  &lt;h2 class=&quot;spacing&quot;&gt;{{ page.title }}&lt;/h2&gt;
  
  &lt;div class=&quot;blog-post spacing&quot;&gt;
    &lt;p class=&quot;summary&quot;&gt;{{ page.category }}&lt;span class=&quot;date&quot;&gt;{{ page.date | date: '%B %d, %Y' }}&lt;/span&gt;&lt;/p&gt;
    {{ content }}
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>С помощью Liquid мы выводим каждую переменную из вступления, так же, как мы выводим заголовок выше. Переменная с датой форматируется с помощью фильтра <a href="https://docs.shopify.com/themes/liquid-documentation/filters">Liquid</a>.</p><h3>Список статей</h3><p>Последним шагом является список статей блога в <span class="var">blog.html</span>. С помощью <a href="https://docs.shopify.com/themes/liquid-documentation/objects/for-loops">цикла for в Liquid</a> создаём элемент для каждой статьи в site.posts:</p><p class="exampleTitle">blog.html</p>
<pre><code data-language="html">---
layout: default
title: Blog
---
&lt;div class=&quot;container&quot;&gt;
  &lt;h2 class=&quot;spacing&quot;&gt;Blog&lt;/h2&gt;
  
  &lt;div class=&quot;blog-posts&quot;&gt;
    {% for post in site.posts %}
      &lt;div class=&quot;blog-post spacing&quot;&gt;
        &lt;h3&gt;&lt;a href=&quot;{{ post.url }}&quot;&gt;{{ post.title }}&lt;/a&gt;&lt;/h3&gt;
        &lt;p class=&quot;summary&quot;&gt;
          {{ post.category }}
          &lt;span class=&quot;date&quot;&gt;
            {{ post.date | date: '%B %d, %Y' }}
          &lt;/span&gt;
        &lt;/p&gt;
        {{ post.excerpt }}
      &lt;/div&gt;
    {% endfor %}
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
<p>Jekyll поддерживает используемые здесь встроенные переменные, которые не определены в вводной части:</p><ul><li><span class="var">url</span> — это сгенерированный адрес статьи блога, который обычно выглядит как /категории/год/месяц/день/заголовок.html, но есть <a href="http://jekyllrb.com/docs/permalinks/">много вариантов настроек</a>;</li><li><span class="var">excerpt</span> — это отрывок, который берётся с самого начала содержимого статьи;</li><li><span class="var">content</span> здесь не используется, но он отображает всё содержимое статьи, так же как <span class="var">{{&nbsp;content&nbsp;}}</span> в макетах.</li></ul><h2>Всё готово</h2><p>За несколько минут мы перешли от статичного сайта к сайту на Jekyll с блогом. Вот ссылка для скачивания <a href="https://github.com/CloudCannon/coffee-cafe/archive/jekyll.zip">финального сайта Coffee Cafe на Jekyll</a>.</p><section class="row credit"><div class="columns small-6 credit-author"><i class="icon-user"></i> Автор: Майк Ньюмеген</div><div class="columns small-6 credit-changed"><i class="icon-calendar"></i> Последнее изменение: 30.09.2016</div><div class="columns small-12 credit-editor"><i class="icon-users"></i> Редакторы: Влад Мержевич</div></section><script src="../../sites/all/themes/ori/js/mousetrap.min.js"></script>
<script>
Mousetrap.bind('mod+left', function()   { document.location ='/dev/building-jekyll-site'; });Mousetrap.bind('mod+right', function() { document.location = '/dev/building-jekyll-site/jekyll-cms-with-cloudcannon'; });</script>
<div class="book-navigation row" id="book-navigation-bottom"><div class="small-6 columns page-previous"><a href="../building-jekyll-site.html" title="На предыдущую страницу">Создание сайта на Jekyll</a><br><span class="navigation-tooltip"><kbd>Ctrl</kbd>+<kbd>←</kbd></span></div><div class="small-6 columns page-next"><a href="jekyll-cms-with-cloudcannon.html" title="На следующую страницу">Добавление Jekyll CMS на CloudCannon</a><br><span class="navigation-tooltip"><kbd>Ctrl</kbd>+<kbd>→</kbd></span></div></div><div id="block-9" class="block"><div class="block_content">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
ad = document.getElementById('block-9');
if (ad.getBoundingClientRect().width) {
adWidth = ad.getBoundingClientRect().width;
} else {
adWidth = ad.offsetWidth;
}
google_ad_client = "ca-pub-0708135098984815";
if (adWidth >= 728) { google_ad_size = ["728", "90"]; google_ad_slot = "1258944978"; }
else { google_ad_size = ["300", "250"]; google_ad_slot = "8016056172"; }
document.write (
'<ins class="adsbygoogle" style="display:inline-block;width:'
+ google_ad_size[0] + 'px;height:'
+ google_ad_size[1] + 'px" data-ad-client="'
+ google_ad_client + '" data-ad-slot="'
+ google_ad_slot + '"></ins>'
);
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div></div><div id="block-18" class="block"><h2 class="block_title">Рекомендуем</h2><div class="block_content">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block" data-ad-format="autorelaxed" data-ad-client="ca-pub-0708135098984815" data-ad-slot="6422661373"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div></div><div id="block-10" class="block"><div class="block_content"><div id="disqus_thread"></div>
<script>
var disqus_shortname = "webref";
(function() {
var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
(document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
})();
</script>
</div></div></div></div></div><aside class="large-3 columns right-off-canvas-menu"><div class="region region-sidebar-toc"><div id="book-navigation" class="block"><h2 class="block_title">Содержание</h2><div class="block_content"><ul class="menu"><li class="first leaf active-trail"><a href="converting-static-site-to-jekyll.html" class="active-trail active">Конвертация статичного сайта в Jekyll</a></li><li class="leaf"><a href="jekyll-cms-with-cloudcannon.html">Добавление Jekyll CMS на CloudCannon</a></li><li class="last leaf"><a href="firebase-backed-commenting-system.html">Система комментирования на Firebase</a></li></ul></div></div><div id="block-12" class="block"><div class="block_content">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:inline-block;width:240px;height:400px" data-ad-client="ca-pub-0708135098984815" data-ad-slot="6456026170"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div></div></div></aside></div></main><a class="exit-off-canvas"></a></div></div><div class="footer"><div class="adv_footer"><div class="row"><div class="medium-12 columns hide-for-medium-down"><div class="region region-adv-footer"><div id="block-15" class="block"><div class="block_content">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
ad = document.getElementById('block-15');
if (ad.getBoundingClientRect().width) {
adWidth = ad.getBoundingClientRect().width;
} else {
adWidth = ad.offsetWidth;
}
google_ad_client = "ca-pub-0708135098984815";
if (adWidth >= 728) { google_ad_size = ["728", "90"]; google_ad_slot = "1258944978"; }
else { google_ad_size = ["300", "250"]; google_ad_slot = "8016056172"; }
document.write (
'<ins class="adsbygoogle" style="display:inline-block;width:'
+ google_ad_size[0] + 'px;height:'
+ google_ad_size[1] + 'px" data-ad-client="'
+ google_ad_client + '" data-ad-slot="'
+ google_ad_slot + '"></ins>'
);
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div></div></div></div></div></div><div class="copyright"><div class="row"><div class="small-2 columns"><p><a href="http://creativecommons.org/licenses/by-nc/4.0/deed.ru" rel="nofollow"><img alt="Лицензия Creative Commons" src="../../sites/all/themes/ori/img/cc.png" width="88" height="31"></a></p></div><div class="small-10 columns"><p>Все материалы сайта доступны по <a href="http://creativecommons.org/licenses/by-nc/4.0/deed.ru" rel="nofollow">лицензии Creative Commons «Attribution-NonCommercial» («Атрибуция — Некоммерческое использование») 4.0 Всемирная</a>, если не указано иное.</p></div></div></div><footer><div class="row"><div class="medium-12 large-4 columns"><h4>О сайте</h4><p>На сайте находятся справочники по различным веб-технологиям, а также руководства по вёрстке веб-страниц и разработке мобильных приложений.</p><p class="about-last">Главный редактор: Влад Мержевич</p></div><div class="small-6 large-2 columns"><h4>Связи</h4><ul id="community"><li><i class="icon-rss"></i> <a href="https://feeds.feedburner.com/webref" rel="nofollow">RSS</a></li><li><i class="icon-jsfiddle"></i> <a href="https://jsfiddle.net/user/webref/fiddles/" rel="nofollow">JSFiddle</a></li><li><i class="icon-github"></i> <a href="https://github.com/webref" rel="nofollow">GitHub</a></li><li><i class="icon-doc-text"></i> <a href="https://drive.google.com/folderview?id=0B4u62HGG7TOnTVJ4aFlFa1Jpb2M" rel="nofollow">Google Диск</a></li></ul></div><div class="small-6 large-3 columns"><h4>Разделы сайта</h4><ul id="footer-menu" class="links"><li><i class="icon-book"></i> <a href="../../ref.html">Справочники</a></li><li><i class="icon-layout"></i> <a href="../../layout.html">Вёрстка</a></li><li><i class="icon-gear"></i> <a href="../../dev.html">Веб-технологии</a></li><li><i class="icon-mobile"></i> <a href="../../mobile.html">Мобильные приложения</a></li><li><i class="icon-bookmark"></i> <a href="../../course.html">Учебные курсы</a></li></ul></div><div class="small-12 medium-12 large-3 columns"><h4>Популярные материалы</h4><div class="region region-popular"><div id="views-popular-popular" class="block"><div class="block_content"><div class="view view-popular view-id-popular view-display-id-popular view-dom-id-a7db4ae47b6e595326745c4d8834a4d0"><div class="view-content"><ul><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/html5.svg.png" src="../../assets/images/thumb/html5.svg" width="16" height="16" alt="" /> <a href="../../layout/learn-html-css.html">Уроки по HTML и CSS</a></li><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/html5.svg.png" src="../../assets/images/thumb/html5.svg" width="16" height="16" alt="" /> <a href="../../layout/howtocodeinhtml.html">Как верстать на HTML5 и CSS3</a></li><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/html5.svg.png" src="../../assets/images/thumb/html5.svg" width="16" height="16" alt="" /> <a href="../../layout/html5-css3.html">HTML5 и CSS3 на примерах</a></li><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/css3.svg.png" src="../../assets/images/thumb/css3.svg" width="16" height="16" alt="" /> <a href="../../layout/magic-of-css.html">Магия CSS</a></li><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/jquery.svg.png" src="../../assets/images/thumb/jquery.svg" width="16" height="16" alt="" /> <a href="../jqfundamentals.html">Основы jQuery</a></li></ul></div></div></div></div></div></div></div><div class="row"><div class="small-12 columns counter">
<script src="../../sites/all/themes/ori/js/li.js"></script>
</div></div><a href="converting-static-site-to-jekyll.html#top"><div class="row"><div class="small-12 columns ontop">Наверх</div></div></a></footer></div><script type="text/javascript" src="../../assets/js/js_p2Pm92U0xNKrBps4v5uAeOIq9sGMPp8zPpZGieWq8eo.js"></script>
<script type="text/javascript" src="../../assets/js/js_H7q2xORKmR9AN8Qx5spKEIBp7R_wG2apAswJoCUZY7I.js"></script>
<script type="text/javascript" src="../../assets/js/js_Xmre84srNMv9IsL3EsmaMioO7AzocdnCMpWwTIu-jp8.js"></script>
<script type="text/javascript" src="../../assets/js/js_V2GNOshuLPzy1pw-N0E22cul4mNDg2mFEMr1chJ4aBw.js"></script>
</body>
</html>